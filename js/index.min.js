const contactsLink=document.querySelector(".button-contacts"),contactsPopup=document.querySelector(".appointment"),modalClose=contactsPopup.querySelector(".close-button"),form=contactsPopup.querySelector(".appointment-form"),namePopup=contactsPopup.querySelector("[name=name]"),emailPopup=contactsPopup.querySelector("[name=email]"),commentPopup=contactsPopup.querySelector("[name=comment]");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}try{storage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}contactsLink.addEventListener("click",function(e){e.preventDefault(),contactsPopup.classList.add("modal-show"),storage?(namePopup.value=storage,emailPopup.value=storage,commentPopup.focus()):namePopup.focus()}),modalClose.addEventListener("click",function(e){e.preventDefault(),contactsPopup.classList.remove("modal-show"),contactsPopup.classList.remove("modal-error")}),form.addEventListener("submit",function(e){namePopup.value&&emailPopup.value?isStorageSupport&&localStorage.setItem("name",namePopup.value):(e.preventDefault(),contactsPopup.classList.remove("modal-error"),contactsPopup.offsetWidth=contactsPopup.offsetWidth,contactsPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&contactsPopup.classList.contains("modal-show")&&(e.preventDefault(),contactsPopup.classList.remove("modal-show"),contactsPopup.classList.remove("modal-error"))});const features=document.querySelector(".features"),slide=features.querySelectorAll(".feature-item"),slideLink=features.querySelectorAll(".controls-button");function changeSlide(e,t,o){e.forEach(function(e){e.classList.contains("slide-current")&&e.classList.remove("slide-current")}),e[o].classList.add("slide-current"),t.forEach(function(e){e.classList.contains("current")&&e.classList.remove("current")}),t[o].classList.add("current")}slideLink.forEach(function(e,t){e.addEventListener("click",function(){changeSlide(slide,slideLink,t)})});
